<!DOCTYPE html>
    <html lang="en">
        <head>
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
            <link href="/css/bootstrap.min.css" rel="stylesheet">
            <link rel="stylesheet" href="/css/fontawesome.all.min.css"  />
            <link rel="stylesheet" href="/css/style.css">
            <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.1/css/select2.min.css" rel="stylesheet" />
            <link rel="stylesheet" href="/css/simpleAlert.css">
            <link href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css" rel="stylesheet">
            <title>Bidding </title>  
        </head>
        <body>
            <section id="sidebar" class="left-sidebar">
                <div class="header-container">
                    <a href="/admin/dashboard" class="logo-img">
                        <img src="/image/logo/logo-nmims.png" class="nmims-logo" alt="Nmims Logo">
                        <img src="/image/logo/logo-nmims-small.png" class="d-none nmims-logo-small" alt="Nmims Logo">
                    </a>
                </div>
            
                <div class="d-flex justify-content-center align-items-center">
                    <div class="hr"></div>
                </div>

                <ul class="side-menu top mt-5">
                    <li class="p-2 dashboard">
                        <a href="/admin/dashboard" target="_self" class="text-decoration-none">
                            <img src="/image/admin/leftsidebar/menu.png" class="student-left-side-image">
                            <span class="text text-dark side-bar-content ms-1">Dashboard</span>
                        </a>
                    </li>
                
                    <li class="master-data">
                        <a href="/admin/master-data" class="text-decoration-none">
                            <img src="/image/admin/leftsidebar/courses.png" class="student-left-side-image">
                            <span class="text text-dark side-bar-content">Master Data</span>
                        </a>
                    </li>
                
                    <li class="bidding-settings">
                        <a href="/admin/bidding-settings" class="text-decoration-none">
                            <img src="/image/admin/leftsidebar/auctions.png" class="student-left-side-image">
                            <span class="text text-dark side-bar-content">Bidding Settings</span>
                        </a>
                    </li>

                    <li class="timetable">
                        <a href="/admin/timetable" class="text-decoration-none">
                            <img src="/image/admin/leftsidebar/timetable.png" class="student-left-side-image" alt="generation timetable">
                            <span class="text text-dark side-bar-content">Elective Timetable</span>
                        </a>
                    </li>
                
                    <li class="manual">
                        <a href="/admin/manual" class="text-decoration-none">
                            <img src="/image/admin/leftsidebar/manual.png" class="student-left-side-image" alt="manual enrollments">
                            <span class="text text-dark side-bar-content">Manual Enrollments</span>
                        </a>
                    </li>
                
                    <li class="reports">
                        <a href="/admin/reports" class="text-decoration-none">
                            <img src="/image/admin/leftsidebar/report.png" class="student-left-side-image">
                            <span class="text text-dark side-bar-content">Reports</span>
                        </a>
                    </li>
                
                    <li class="p-2 utility">
                        <a href="/admin/utility" class="text-decoration-none">
                            <img src="/image/admin/leftsidebar/utility.png" class="student-left-side-image">
                            <span class="text text-dark side-bar-content" >Utility</span>
                        </a>
                    </li>
                </ul>
            </section> 

<main class="main">
    <!-- NAVBAR -->
    <header>
        <nav class="top-navbar d-flex justify-content-xl-end justify-content-between align-items-center">
            <a href="/admin/dashboard"><img src="/image/logo/logo-nmims.png" alt="NMIMS LOGO" class="nmims-logo-smalldevices me-auto"></a>
            <div class="navbar-logo d-none me-auto">
                <a href="/admin/dashboard"> <img src="/image/logo/logo-nmims.png" class="nmims-logo"> </a>
             </div>
             <button class="me-auto left-sidebar-toggle"><i class="fa-solid fa-angles-left"></i></button>
            
            <ul class="top-navbar_list">

                  <div class="btn-group">
                    <button class="btn btn-white dropdown-toggle session-name <%= locals.biddingName ? '' : 'disabled' %>" type="button" id="biddingSessionDropdown"
                        data-bs-toggle="dropdown" data-bs-auto-close="true" aria-expanded="false" data-session-id="<%- locals.biddingId%>" style="background: #F0A500;"> 
                        
                        <% if(locals.biddingName) { %>
                        <span style="color: white; font-weight: bold mt-2 mb-2 ;"><%- locals.biddingName %></span>
                        <% } else { %>
                        <span style="color:white;font-weight: bold;">Add Bidding Session</span>
                      <%  } %>
                    </button>
                    
                   
                </div>
                <div class="btn-group">
                    <button class="btn btn-white dropdown-toggle" type="button" id="defaultDropdown"
                        data-bs-toggle="dropdown" data-bs-auto-close="true" aria-expanded="false"> 
                        <img src="/image/admin/navbarheader/user.png" alt=""> Hi! <%- locals.firstName %> 
                        <input type="hidden" value= "<%- locals.userId %>" >
                    </button>
                    <ul class="dropdown-menu userprofile-dropdown-menu" aria-labelledby="defaultDropdown">
                        <li class="update-password"><a href="javascript:void(0)" class="dropdown-item"><i class="fa fa-unlock-alt"></i> Update Password</a></li>
                        <li><a class="dropdown-item" href="/user/logout"><i class="fas fa-sign-out-alt"></i></i> Signout</a></li>
                    </ul>
                </div>
            </ul>
            <div class="hamburger-smalldevices"><img src="/image/admin/navbarheader/nav-bar-header-small-size-window/HamburgerIcon.png" alt="" width="24px" height="20px">
            </div>
        </nav>
    </header>
    <div class="modal-loader d-none">
        <svg version="1.1" id="L5" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
      viewBox="0 0 100 100" enable-background="new 0 0 0 0" xml:space="preserve">
      <circle fill="#FF4136" stroke="none" cx="6" cy="50" r="6">
        <animateTransform 
           attributeName="transform" 
           dur="1s" 
           type="translate" 
           values="0 15 ; 0 -15; 0 15" 
           repeatCount="indefinite" 
           begin="0.1"/>
      </circle>
      <circle fill="#FF851B" stroke="none" cx="30" cy="50" r="6">
        <animateTransform 
           attributeName="transform" 
           dur="1s" 
           type="translate" 
           values="0 10 ; 0 -10; 0 10" 
           repeatCount="indefinite" 
           begin="0.2"/>
      </circle>
      <circle fill="#FFDC00" stroke="none" cx="54" cy="50" r="6">
        <animateTransform 
           attributeName="transform" 
           dur="1s" 
           type="translate" 
           values="0 5 ; 0 -5; 0 5" 
           repeatCount="indefinite" 
           begin="0.3"/>
      </circle>
    </svg>
      </div>

    
        <!-- Modal for Bidding session -->
        
        <div class="modal fade" id="bidding-session-popup-modal" tabindex="-1" aria-labelledby="bidding-session-popup-modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Update Status</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <ul class="list-group">
                            
                        </ul>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-success" id="update-status">Update Status</button>
                    </div>
                </div>
            </div>
        </div>


        <!-- Modal for update password -->
        <div class="modal fade" id="update-password-modal" tabindex="-1" aria-labelledby="timetable-session-popup-modal" aria-hidden="true" data-bs-keyboard="false" data-bs-backdrop="static">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Update Password</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form action="">
                            <div class="form-group old-pass">
                                <label for="" class="col-form-label">Old Password</label>
                                <input class="form-control" type="password" name="student-old-password" id="student-old-password" autocomplete="on">
                            </div>
                            
                            <input type="hidden" name="student-user-id" id="student-user-id" value="<%- locals.username %>">

                            <div class="form-group new-pass" style="display: none;">
                                <label for="" class="col-form-label">New Password</label>
                                <input class="form-control" type="password" name="student-new-password" id="student-new-password" autocomplete="on">
                            </div>

                            <div class="form-group confirm-pass" style="display: none;">
                                <label for="" class="col-form-label">Confirm New Password</label>
                                <input class="form-control" type="password" name="student-confirm-password" id="student-confirm-password" autocomplete="on">
                            </div>
                        </form>
                       
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-success" id="check-password-btn">Check</button>
                        <button type="button" class="btn btn-success" id="update-password-btn" style="display: none;">Update</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal for Add Trimester -->
        <div class="modal" id="add_trimester_modal" data-bs-keyboard="false" data-bs-backdrop="static">
            <div class="modal-dialog">
               <div class="modal-content">
                   <div class="modal-header text-white bg-primary">
                       <h4>Add Trimester</h4>
                       <button class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                   </div>
                   <div class="modal-body">
                       <div class="my-3">
                           <label for="select_trimester" class="form-label">Trimester :</label>
                           <select class="form-select" id="select_trimester" >
                               <option value="" selected disabled>--Select Trimester--</option>
                               <option value="trimester I">Trimester I</option>
                               <option value="trimester II">Trimester II</option>
                               <option value="trimester III">Trimester III</option>
                           </select>
                       </div>
                       <div class="my-3">
                           <label for="select_program" class="form-label">Program :</label>
                           <select class="form-select" id="select_program">
                               <option value="" selected disabled>--Select Program--</option>
                               <option value="50783564">B.Com. (Hons.)-7401</option>
                               <option value="50783565">BACHELOR OF BUSINESS ADMINISTRATION-7402</option>
                               <option value="50002941">B.Tech in Biomedical Engineering-60013</option>
                           </select>
                       </div>
                       <div class="my-3">
                           <label for="select_batch" class="form-label">Batch :</label>
                           <select class="form-select" id="select_batch">
                               <option value="" selected disabled>--Select Batch--</option>
                               <option value="b1">Batch 1</option>
                               <option value="b2">Batch 2</option>
                               <option value="b3">Batch 3</option>
                           </select>
                       </div>
                       <div class="my-3">
                           <label for="min_credits" class="form-label" >Min-Credits:</label>
                           <input type="text" class="form-control" name="min_credits" id="min_credits" autocomplete="off">
                       </div>
                       <div class="my-3">
                           <label for="max_credits" class="form-label">Max-Credits:</label>
                           <input type="text" class="form-control" name="max_credits" id="max_credits" autocomplete="off">
                       </div>
                   </div>
                   <div class='modal-footer'>
                       <button class="btn btn-white border border-secondary" data-bs-dismiss="modal">Close</button>
                       <button class="btn btn-success">Add</button>
                   </div>
               </div>
            </div> 
          </div>
		  
		<div class="main-content">
            <div class="breadcrumbs-container mt-4">
                <ul class="breadcrumb">
                    <% if (breadcrumbs) {
                        for (let crumbs of breadcrumbs) {
                            if (crumbs.name != 'ADMIN') { %>
                                <li><a href="<%- crumbs.url %>" style="cursor: pointer;" ><%- crumbs.name %></a></li>
                            <% }         
                        }
                    } %>
                </ul>  
            </div>
	
	
	<div class="card card-custom-border-curv">
        <div class="card-header-custom d-flex justify-content-between p-2">
            <h4 class="ms-2">Concentration Settings</h4>
            <button type="button" class="btn btn-danger ms-auto me-3" id="refresh-concentration-settings">
                <i class="fa-solid fa-rotate p-1"></i>Refresh
            </button>
        </div>

        <div class="card-body table-responsive">
            <div class="d-flex justify-content-between">
                <div>
                    <label>Show Entries</label>
                    <select class="form-select" id="changeEntry">
                        <% for (let page of locals.page_filter) { %>
                            <option value="<%- page %>"><%- page %></option>
                        <% } %>
                    </select>
                </div>
                <div>
                    <div class="table-searchbar-container d-flex justify-content-around p-1">
                        <button type="button" id="searchkeyword-button" class="border-0 outline-0">
                            <i class="fas fa-search"></i>
                        </button>
                        <input type="search" id="searchkeyword" placeholder="Enter keywords" class="table-searchbar" autocomplete="off" size="24">
                    </div>
                </div>
            </div>
            <table class="table table-bordered mt-4" id="concentration-settings-table">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Concentration</th>
                        <th>Total Elective Credits</th>
                        <th>Maximum Credits per Area</th>
                        <th>No. of Areas to Cover</th>
                        <th>Minimum Credits per Area</th>
                        <th>Primary Area</th>
                        <th>Minimum Credits in Primary Area</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <% let count = 1 %>
                    <% for (let concentrationSetting of concentrationSettings) {%>
                        <tr data-id="<%- concentrationSetting.id %>"
                            data-total-ele-credits="<%- concentrationSetting.totalCredits %>"
                            data-max-cre-per-area="<%- concentrationSetting.maxCreditsPerArea %>"
                            data-no-of-area-to-cover="<%- concentrationSetting.noofAreasToCover %>"
                            data-min-credits-per-area="<%- concentrationSetting.minCreditsPerArea %>"
                            data-name = "<%- concentrationSetting.name %>"
                            data-area-id = "<%- concentrationSetting.area_Id %>"
                            data-min-credits-in-primary-area="<%- concentrationSetting.minCreditsInPriArea %>">

                            <td><%- count++ %></td>
                            <td class="concentration-name"><%- concentrationSetting.name %></td>
                            <td><%- concentrationSetting.totalCredits %></td>
                            <td><%- concentrationSetting.maxCreditsPerArea %></td>
                            <td><%- concentrationSetting.noofAreasToCover %></td>
                            <td><%- concentrationSetting.minCreditsPerArea %></td>
                            <td><%- concentrationSetting.primaryArea %></td>
                            <td><%- concentrationSetting.minCreditsInPriArea %></td>
                            <td>
                                <a class="edit-concentration-settings" data-bs-toggle="modal" data-bs-target="#edit-concentration-setting-modal">
                                    <i class="fa fa-edit"></i>
                                </a>
                                <a class="text-danger delete-concentration-settings"><i class="fas fa-trash"></i></a>
                            </td>
                        </tr>
                    <% } %>
                </tbody>
            </table>
            <div class="d-flex justify-content-between">
                <div>
                    <p>Total entries :&nbsp;<span id="page-no"></span></p>
                </div>
                <div>
                    <p id="pagination" class="pagination-search"></p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="edit-concentration-setting-modal" data-bs-backdrop="static">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Update Concentration Settings</h5>
                    <button class="btn-close modal-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row empty">
                        <div class="col-md-6">
                            <input type="hidden" id="course-id">
                            <label class="mb-2 form-label" for="concentration-name">Concentration Name :</label>
                            <input class="form-control is-empty" type="text" id="concentration-name" autocomplete="off" disabled>
                            <span class="text-danger d-none is-in-valid"></span>
                        </div>

                        <div class="col-md-6">
                            <label class="mb-2 form-label" for="total-elective-credits">Total Elective Credits :</label>
                            <input class="form-control is-empty is-number" type="text" id="total-elective-credits" autocomplete="off">
                            <span class="text-danger d-none is-in-valid"></span>
                        </div>
                    </div>

                    <div class="row empty">
                        <div class="col-md-6">
                            <label class="form-label mb-2" for="max-credits-per-area">Maximum Credits Per Area :</label>
                            <input class="form-control is-empty is-number" type="text" id="max-credits-per-area" autocomplete="off">
                            <span class="text-danger d-none is-in-valid"></span>
                        </div>
                        <div class="col-md-6">
                            <label class="mb-2 form-label" for="number-of-areas-to-cover">Number of Areas to Cover :</label>
                            <input class="form-control is-empty is-number" type="text" id="number-of-areas-to-cover" autocomplete="off">
                            <span class="text-danger d-none is-in-valid"></span>
                        </div>
                    </div>

                    <div class="row empty">
                        <div class="col-md-6">
                            <label class="form-label mb-2" for="min-credits-per-area">Minimum Credits Per Area :</label>
                            <input class="form-control is-empty is-number" type="text" id="min-credits-per-area" autocomplete="off">
                            <span class="text-danger d-none is-in-valid"></span>
                        </div>
                        <div class="col-md-6" id="primary-area-form">
                            <label class="mb-2 form-label" for="primary-area">Primary Area :</label>
                            <select class="form-control form-select select2 custom-select is-empty" id="primary-area">
                                <option  value="-1" selected>--Select Primary Area--</option>
                                <% for (let area of areaList) { %>
                                    <option value="<%- area.id %>" ><%- area.area_name %></option>
                                <% } %>
                            </select>
                            <p id="error-primary-area" class="text-danger d-none is-in-valid">Please Select Primary Area!</p>
                        </div>
                    </div>

                    <div class="row empty">
                        <div class="col-md-6" id="primary-area-minimum">
                            <label class="form-label mb-2" for="min-credits-in-primary-area">Minimum Credits in Primary Area :</label>
                            <input class="form-control is-empty is-number" type="text" id="min-credits-in-primary-area" autocomplete="off">
                            <span class="text-danger d-none is-in-valid"></span>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary modal-close" data-bs-dismiss="modal">Close</button>
                    <button class="btn btn-primary" id="update-concentration-settings">Update</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="/js/jquery.min.js"></script>
<script src="/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.dev.js"></script>
<script src="/js/SimpleAlert.js"></script>
<script src="/js/leftsidebartoggle.js"></script>
<script src="/js/ajaxApi.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.1/js/select2.min.js"></script>

<!-- new -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="/js/jquery.bootpag.min.js"></script>

</body>
</html>